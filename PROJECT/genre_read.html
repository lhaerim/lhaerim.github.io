<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cineBuddy 장르 글보기</title>
</head>

<body>
    <div class="board_wrap">
        <div class="board_title">
            <strong>장르별 게시판</strong>
            <p>자신의 취향과 맞는 cineBuddy들을 탐색해보세요!</p>
        </div>
        <div class="board_view_wrap">
            <div class="board_view">
                <div class="title" id="viewTitle">글 제목이 들어갑니다</div>
                <div class="genre">
                    <dl>
                        <dt>장르</dt>
                        <dd id="viewGenre">공포</dd>
                    </dl>
                </div>
                <div class="info">
                    <dl>
                        <dt>글쓴이</dt>
                        <dd id="viewWriter">이해림</dd>
                    </dl>
                </div>
                <div class="cont" id="viewContent">
                    글 내용이 들어갑니다.<br/> 글 내용이 들어갑니다.<br/> 글 내용이 들어갑니다.<br/> 글 내용이 들어갑니다.<br/> 글 내용이 들어갑니다.<br/> 글 내용이 들어갑니다.<br/> 글 내용이 들어갑니다.<br/> 글 내용이 들어갑니다.
                </div>
                <div class="image">
                    <img id="viewImage" src="" alt="게시물 이미지">
                </div>
            </div>
            <div class="bt_wrap">
                <a href="list.html" class="on">목록</a>
            </div>
        </div>
        <script>
            // view.html이 열릴 때 해당 글의 ID를 가져와서 localStorage에서 해당 글을 찾아 표시
            var postId = getParameterByName("id");
            var posts = JSON.parse(localStorage.getItem("posts")) || [];

            var selectedPost = posts.find(function(post) {
                return post.id == postId;
            });

            if (selectedPost) {
                document.getElementById("viewTitle").innerHTML = selectedPost.title;
                document.getElementById("viewGenre").innerHTML = selectedPost.genre;
                document.getElementById("viewWriter").innerHTML = selectedPost.writer;
                document.getElementById("viewContent").innerHTML = selectedPost.content;
            }

            function getParameterByName(name) {
                var url = window.location.href;
                name = name.replace(/[\[\]]/g, "\\$&");
                var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                    results = regex.exec(url);
                if (!results) return null;
                if (!results[2]) return "";
                return decodeURIComponent(results[2].replace(/\+/g, " "));
            }
        </script>
    </div>
</body>

</html>